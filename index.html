<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Film Kataloqu</title>
  <style>
    body {background:#111; color:#fff; font-family:sans-serif; margin:0;}
    header {text-align:center; padding:22px 0; font-size:2rem; background:#1a1a1a; letter-spacing:1px;}
    .categories {display:flex; gap:10px; justify-content:center; margin:18px 0 6px 0; flex-wrap:wrap;}
    .categories button {background:#222; color:#fff; border:none; padding:10px 18px; border-radius:6px; cursor:pointer; font-size:1rem; transition:.2s;}
    .categories button.active, .categories button:hover {background:#c00;}
    .movies {display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:18px; padding:20px;}
    .movie {background:#222; border-radius:9px; overflow:hidden; text-align:center; transition:.2s; position:relative; box-shadow:0 2px 8px #0006;}
    .movie:hover {transform:scale(1.045);}
    .movie img {width:100%; height:270px; object-fit:cover; background:#333;}
    .movie h3 {margin:14px 0 6px 0;}
    .movie small {color:#bbb;}
    @media (max-width:600px) {
      .movies {grid-template-columns:repeat(auto-fit,minmax(130px,1fr));}
      .movie img {height:170px;}
      .categories button {font-size:.95rem;}
    }
    .search-bar {display:flex; justify-content:center; margin:10px 0;}
    .search-bar input[type="text"] {
      width:270px; max-width:90vw; padding:8px 12px; border-radius:6px; border:1px solid #333; font-size:1rem; background:#222; color:#fff;
      outline:none; transition:.2s;
    }
    .search-bar input:focus {border-color:#c00;}
  </style>
</head>
<body>
  <header>üé¨ Film Kataloqu</header>
  <div class="search-bar">
    <input id="searchInput" type="text" placeholder="Film adƒ± il…ô axtar...">
  </div>
  <div class="categories" id="categoryList"></div>
  <div class="movies" id="movieList"></div>

  <script>
    const categories = ["B√ºt√ºn", "Aksiya", "Komediya", "Dram", "Fantastik"];
    const movies = [
      {id:"avengers", title:"Avengers: Endgame", year:2019, category:"Aksiya", poster:"https://m.media-amazon.com/images/M/MV5BMTc5MDE2ODcwNV5BMl5BanBnXkFtZTgwMzI2NzQ2NzM@._V1_.jpg", desc:"Q…ôhr…ômanlar kainatƒ± xilas etm…ôk √º√ß√ºn son d√∂y√º≈ü…ô hazƒ±rla≈üƒ±rlar."},
      {id:"joker", title:"Joker", year:2019, category:"Dram", poster:"https://m.media-amazon.com/images/M/MV5BNzY3OWQ5NDktNWQ2OC00ZjdlLThkMmItMDhhNDk3NTFiZGU4XkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg", desc:"T…ônhalƒ±q v…ô c…ômiyy…ôtin r…ôdd etdiyi bir insanƒ±n tarix√ß…ôsi."},
      {id:"spiderman", title:"Spider-Man: No Way Home", year:2021, category:"Aksiya", poster:"https://m.media-amazon.com/images/M/MV5BMmFiZGZjMmEtMTA0Ni00MzA2LTljMTYtZGI2MGJmZWYzZTQ2XkEyXkFqcGc@._V1_.jpg", desc:"Peter Parkerin h…ôyatƒ± alt-√ºst olur."},
      {id:"freeguy", title:"Free Guy", year:2021, category:"Komediya", poster:"https://m.media-amazon.com/images/M/MV5BN2I0MGMxYjUtZTZiMS00MzMxLTkzNWYtMDUyZmUwY2ViYTljXkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg", desc:"Bir oyun d√ºnyasƒ±nda q…ôhr…ôman olmaƒüa √ßalƒ±≈üan adi bir adam."},
      {id:"interstellar", title:"Interstellar", year:2014, category:"Fantastik", poster:"https://m.media-amazon.com/images/M/MV5BYzdjMDAxZGItMjI2My00ODA1LTlkNzItOWFjMDU5ZDJlYWY3XkEyXkFqcGc@._V1_.jpg", desc:"ƒ∞nsanlƒ±ƒüƒ±n saƒü qalmasƒ± √º√ß√ºn kosmik s…ôyah…ôt."}
    ];

    const categoryList = document.getElementById('categoryList');
    const movieList = document.getElementById('movieList');
    const searchInput = document.getElementById('searchInput');

    // Kateqoriya d√ºym…ôl…ôri
    categories.forEach(cat=>{
      const btn = document.createElement('button');
      btn.textContent = cat;
      btn.onclick = () => filterMovies(cat, searchInput.value.trim());
      categoryList.appendChild(btn);
    });

    // Filtrl…ôm…ô funksiyasƒ±
    function filterMovies(category, searchTerm) {
      document.querySelectorAll('.categories button').forEach(btn=>btn.classList.remove('active'));
      const index = categories.indexOf(category);
      if (index >= 0) categoryList.children[index].classList.add('active');
      let filtered = category === "B√ºt√ºn" ? movies : movies.filter(m=>m.category === category);
      if (searchTerm)
        filtered = filtered.filter(m => m.title.toLowerCase().includes(searchTerm.toLowerCase()));
      showMovies(filtered);
    }

    // Filml…ôrin g√∂st…ôrilm…ôsi
    function showMovies(list) {
      movieList.innerHTML = "";
      if(list.length === 0){
        movieList.innerHTML = `<div style="grid-column:1/-1; text-align:center; color:#aaa;">Film tapƒ±lmadƒ±.</div>`;
        return;
      }
      list.forEach(m=>{
        const div = document.createElement('div');
        div.className = 'movie';
        div.onclick = () => location.href = `movie.html?movie=${m.id}`;
        div.innerHTML = `
          <img src="${m.poster}" alt="${m.title}" onerror="this.onerror=null;this.src='https://via.placeholder.com/300x450?text=No+Image'">
          <h3>${m.title}</h3>
          <small>${m.year} ‚Ä¢ ${m.category}</small>
        `;
        movieList.appendChild(div);
      });
    }

    // Axtarƒ±≈ü inputu
    searchInput.addEventListener('input', ()=>{
      const activeCat = document.querySelector('.categories button.active');
      filterMovies(activeCat ? activeCat.textContent : "B√ºt√ºn", searchInput.value.trim());
    });

    // Ba≈ülanƒüƒ±cda b√ºt√ºn filml…ôri g√∂st…ôr v…ô "B√ºt√ºn" aktiv et
    filterMovies("B√ºt√ºn", "");
  </script>
</body>
</html>
